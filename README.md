# 小程序项目配置流程

## 新增单独定制化项目

模仿`新增saas项目` 新增项目并上传到svn

## 新增saas项目

### 微信公众平台配置

1. 索要小程序开发者权限
2. 开发->开发管理->开发设置->服务器域名 配置
   1. 需要从别的项目复制过来 直接粘贴即可
3.  开发->开发管理->开发设置->业务域名 配置
    1. 扫描二维码之后 添加两个域名
      	1. `yxf1.juzhouyun.com`
      	2. `yxftest.juzhouyun.com`
   	2. 下载校验文件,上传至服务器  直接粘贴即可
      	1. 107,108 正式环境服务器 `/usr/local/web-weixin/open-weixin`
      	2. 测试环境  `/usr/local/webui/web-weixin/open-weixin`
4. 配置订阅消息
   1. 检查小程序服务类目(首页->小程序信息->查看详情->基本设置->服务类目)
      1.  确保服务类目含有`房地产>房地产`
   2.  功能->订阅消息->我的模板->添加
       1.  名片访问提醒 关键字:
           1.  客户姓名
           2.  访问时间
       2.  访客咨询提醒 关键字:
           1.  访客姓名
           2.  咨询楼盘
           3.  咨询时间
           4.  问题描述
           5.  电话
       3.  未读消息提醒 关键字:
           1.  发送人
           2.  联系电话
           3.  消息内容
           4.  发送时间

### 项目内部配置
1. 产品经理会在租户管理系统添加新租户,向产品经理询问租户名称
   1. 在[租户系统](https://yxf1.juzhouyun.com/admin-ydtenant/#/)找到该租户,在请求中找到租户id(`tenantId`)字段
      - 账号:   `ydhl123`
      - 密码:`ydhl123456`
2. 配置项目文件(svn项目名称:`online-applet-standard`) 
      1. 配置 `/confg.js`下`CONFIG_PRO_INFO`依据备注添加
      2. wxss文件 `assets/var.wxss` 更改全局配置主题色

### 交涉事项
1. 联系实施工程师索要项目主题色色号,配置为`/config.js`中`CONFIG_PRO_INFO`该项目的`projectName`字段
   1. 把色值给UI设计师 让他给出一个渐变色值
2. 找实施工程师索要项目logo 交给UI设计师
   1. 让UI设计师给出整套项目所需图片 更改图片文件名称 配置到线上地址(107,108)`/usr/local/web-weixin/open-weixin`
